# NDT结果生成器 - 打包说明

## 📦 打包方法

### 方法一：使用批处理文件（推荐）

1. **双击运行 `打包.bat`**
   - 会自动检查Python环境
   - 自动安装依赖
   - 自动执行打包

### 方法二：手动打包

1. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

2. **执行打包脚本**
   ```bash
   python build_simple.py
   ```

3. **或者使用PyInstaller配置文件**
   ```bash
   pyinstaller NDT结果生成器.spec
   ```

## 📁 打包结果

打包完成后，会在 `dist` 文件夹中生成：
- `NDT结果生成器.exe` - 主程序
- `生成器/` - 模板文件夹（如果使用spec文件）

## 🚀 分发说明

### 单文件分发（推荐）
如果使用 `build_simple.py`，会生成单个exe文件：
- 只需要分发 `NDT结果生成器.exe`
- 用户双击即可运行
- 首次运行会自动解压临时文件

### 文件夹分发
如果使用spec文件，需要分发整个dist文件夹：
- 包含exe文件和所有依赖
- 包含生成器模板文件夹
- 启动速度更快

## ⚠️ 注意事项

### 1. 模板文件路径
- 程序中的默认路径是相对路径
- 确保模板文件与exe文件在正确的相对位置
- 建议用户将exe文件放在项目根目录

### 2. 文件权限
- 确保用户有读写权限
- 输出文件夹需要写入权限

### 3. 系统兼容性
- 打包的exe文件只能在Windows系统运行
- 需要Windows 7或更高版本
- 不需要安装Python环境

### 4. 杀毒软件
- 某些杀毒软件可能误报
- 建议添加到白名单

## 🔧 故障排除

### 打包失败
1. 检查Python版本（建议3.8+）
2. 检查依赖是否完整安装
3. 检查磁盘空间是否充足
4. 查看错误日志

### 运行失败
1. 检查模板文件是否存在
2. 检查文件路径是否正确
3. 检查用户权限
4. 查看错误提示

### 性能优化
1. 使用spec文件可以减小文件大小
2. 排除不必要的模块
3. 使用UPX压缩（可选）

## 📋 打包清单

确保以下文件存在：
- [x] gui.py - 主程序
- [x] NDT_result.py - NDT结果模块
- [x] NDT_result_mode1.py - NDT结果模式1
- [x] Surface_Defect.py - 表面缺陷模块
- [x] Surface_Defect_mode1.py - 表面缺陷模式1
- [x] Ray_Detection.py - 射线检测模块
- [x] Ray_Detection_mode1.py - 射线检测模式1
- [x] Radio_test.py - 射线测试模块
- [x] Radio_test_renewal.py - 射线测试续模块
- [x] 生成器/ - 模板文件夹
- [x] requirements.txt - 依赖列表

## 🎯 使用建议

1. **开发环境测试**
   - 在开发环境中充分测试所有功能
   - 确保所有模板文件路径正确

2. **打包前准备**
   - 清理不必要的文件
   - 更新依赖版本
   - 检查代码中的硬编码路径

3. **分发准备**
   - 创建用户手册
   - 准备示例文件
   - 提供技术支持联系方式

4. **版本管理**
   - 为每个版本创建标签
   - 记录版本更新日志
   - 保留历史版本备份
